% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_enrollment.R
\name{fetch_enr}
\alias{fetch_enr}
\title{Fetch Arizona enrollment data}
\usage{
fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)
}
\arguments{
\item{end_year}{A school year. Year is the end of the academic year - eg 2023-24
school year is year '2024'. Valid values are 2011-2026.

Data availability notes:
\itemize{
\item Excel files are available from FY2011 (end_year 2011) onwards
\item Earlier years (1990s-2000s) exist only as PDF reports and are not supported
\item ADE uses varying URL patterns across years; download may take a few seconds
as the package tries multiple URL patterns
}}

\item{tidy}{If TRUE (default), returns data in long (tidy) format with subgroup
column. If FALSE, returns wide format.}

\item{use_cache}{If TRUE (default), uses locally cached data when available.
Set to FALSE to force re-download from ADE.}
}
\value{
Data frame with enrollment data. Wide format includes columns for
district_id, campus_id, names, and enrollment counts by demographic/grade.
Tidy format pivots these counts into subgroup and grade_level columns.
}
\description{
Downloads and processes enrollment data from the Arizona Department of
Education's October 1 enrollment reports.
}
\examples{
\dontrun{
# Get 2024 enrollment data (2023-24 school year)
enr_2024 <- fetch_enr(2024)

# Get wide format
enr_wide <- fetch_enr(2024, tidy = FALSE)

# Force fresh download (ignore cache)
enr_fresh <- fetch_enr(2024, use_cache = FALSE)

# Get historical data from 2011
enr_2011 <- fetch_enr(2011)

# Filter to specific district
phoenix_union <- enr_2024 \%>\%
  dplyr::filter(grepl("Phoenix Union", district_name, ignore.case = TRUE))
}
}
